# ü™Ñ Harry Potter Personality Analytics
### *Bridging Narrative Text and 3D Statistical Mapping*

[![Streamlit App](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://ahampto-hp-nlp-app-jfffdf.streamlit.app/)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## üöÄ [Live Deployment: Interactive Dashboard](https://ahampto-hp-nlp-app-jfffdf.streamlit.app/)

## üìñ Project Overview
This repository contains an end-to-end data science project that extracts, analyzes, and visualizes **personality trait distributions** within the Harry Potter movie universe.

The project bridges the gap between unstructured narrative dialogue and interactive 3D analytics, leveraging Transformer-based NLP for personality inference and a combination of **Principal Component Analysis (PCA) and Agglomerative Hierarchical Clustering** to map narrative archetypes in personality space.

Rather than treating characters as static labels, this project models them as continuous personality profiles, enabling quantitative comparison, clustering, and interpretation.

---

## üî¨ Technical Methodology

### Phase 0: NLP Trait Extraction
* The dataset was generated by processing raw character dialogue and narrative descriptions through a Transformer-based regression model (`vladinc/bigfive-regression-model`).
* The model outputs continuous scores for the Big Five personality traits:
  * Openness
  * Conscientiousness
  * Extraversion
  * Agreeableness
  * Neuroticism
    
* **Data Engineering:**
  * Implemented custom entity resolution logic to standardize character mentions and aggregate trait scores across the series.
    
* **Normalization:**
  * Trait scores were standardized using StandardScaler
  * This ensures equal weighting across dimensions and prevents magnitude dominance

  ‚ö†Ô∏è *Important Note:*
  
  These scores reflect **linguistic expression of personality traits**, not clinical psychological diagnoses.

### Phase 1: Feature Decorrelation & Noise Reduction (PCA)
- Character dialogue and narrative text were processed using a Transformer-based regression model
Model: vladinc/bigfive-regression-model

1.  **Feature Decorrelation:** Psychometric traits often exhibit high multicollinearity. PCA transformed these into linearly uncorrelated principal components, ensuring clustering models weighted underlying variance rather than redundant feature signals.
2.  **Noise Reduction:** The first three principal components capture approximately **97.58%** of the total variance. Focusing on these filters out residual statistical noise and enables a mathematically grounded 3D visualization.



### Phase 2: Clustering Strategy & Optimization
Two unsupervised approaches were evaluated::

* **K-Means (Benchmarking):**
  * Utilized as a baseline to identify the "Optimal $k$" through Silhouette Analysis and the Elbow Method (SSE).
    
* **Agglomerative Hierarchical Clustering (Implementation):**
  * Selected for the final Similarity Tree
  * Uses Cosine Distance to cluster characters based on personality structure
  * Produces interpretable hierarchical relationships aligned with narrative archetypes



---

## üìè Similarity Metric Duality
This project intentionally uses two different distance metrics for two different analytical goals:

* **Cosine Similarity:** - ***Structural Similarity***
  * Used for the Hierarchical clustering
  * Measures pattern similarity (relative trait ratios)
  * Ideal for comparing personality shapes, independent of intensity
 
    
* **Euclidean Distance:** - ***Intensity Matching***
  * Used for the "Character Mirror" matching engine. 
  * Preserves absolute trait magnitude
  * Ensures users are matched with characters of similar energy levels

---

## üé® Application Features

* **The Personality Galaxy:** An interactive 3D Plotly environment mapping characters within the PCA-transformed feature space.
* **The Character Mirror:** A predictive matching engine that identifies a user's statistical "twin" based on 5D Euclidean distance.
* **Hierarchical Similarity Tree:** A dendrogram visualization representing the archetypal relationships between characters.
* **Statistical Challenges:** Includes the "Sorting Hat" game (identifying characters by radar-chart "Shadow Profiles") and "Who am I?" (trait-based deduction).

---

## üñ•Ô∏è Browser Compatibility & Optimization
> **Note:** This application is optimized for **Dark Mode**. Due to browser-level rendering discrepancies in Google Chrome's "Force Dark Mode" flags, some chart labels may become invisible in Light Mode. 
> 
> For the intended visual experience, please use **Dark Mode** (Menu > Settings > Theme) or access via **Microsoft Edge**.

## üõ†Ô∏è Tech Stack
* **NLP:** Transformers (HuggingFace), Entity Resolution
* **Analysis:** Scikit-Learn (PCA, KMeans), Pandas, Numpy
* **Visualization:** Plotly, Scipy (Dendrograms)
* **Deployment:** Streamlit
